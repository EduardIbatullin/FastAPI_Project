# üè® FastAPI Hotel Booking

–ü—Ä–æ–µ–∫—Ç ‚Äî —ç—Ç–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ–Ω–ª–∞–π–Ω-–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–µ–ª–µ–π "–ü—Ä–æ—Å—Ç–æ–ë—Ä–æ–Ω—å". –ü–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ **FastAPI**, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –æ—Ç–µ–ª—è–º–∏, –∫–æ–º–Ω–∞—Ç–∞–º–∏ –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏.

---

## üìö –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

* [–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å](#—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)
* [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏](#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏)
* [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–∑–∞–ø—É—Å–∫)
* [–†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö](#—Ä–∞–±–æ—Ç–∞-—Å-–±–∞–∑–æ–π-–¥–∞–Ω–Ω—ã—Ö)
* [–ú–∏–≥—Ä–∞—Ü–∏–∏ Alembic](#–º–∏–≥—Ä–∞—Ü–∏–∏-alembic)
* [–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å](#–∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å)
* [–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ](#–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ)
* [–ü—Ä–æ–º–µ—Ç–µ–π –∏ –º–µ—Ç—Ä–∏–∫–∏](#–ø—Ä–æ–º–µ—Ç–µ–π-–∏-–º–µ—Ç—Ä–∏–∫–∏)
* [–ü—Ä–∏–º–µ—Ä—ã API –∏ Web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞](#–ø—Ä–∏–º–µ—Ä—ã)

---

## üõ†Ô∏è –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

* –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
* –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –æ—Ç–µ–ª–µ–π –∏ –∫–æ–º–Ω–∞—Ç
* –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ª–æ–∫–∞—Ü–∏–∏ –∏ –¥–∞—Ç–∞–º
* –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–æ–≤
* –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —É–¥–∞–ª–µ–Ω–∏–µ —Å–≤–æ–∏—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
* –ê–¥–º–∏–Ω–∫–∞ –Ω–∞ –±–∞–∑–µ SQLAdmin
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–µ—à–∞ —á–µ—Ä–µ–∑ Redis
* –ú–µ—Ç—Ä–∏–∫–∏ —á–µ—Ä–µ–∑ Prometheus

---

## üíª –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

* **Backend**: FastAPI, SQLAlchemy 2.0, Alembic
* **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL
* **Auth**: OAuth2 + JWT
* **–ê–¥–º–∏–Ω–∫–∞**: SQLAdmin
* **–ö—ç—à**: Redis + fastapi-cache
* **–ú–µ—Ç—Ä–∏–∫–∏**: prometheus-fastapi-instrumentator
* **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å**: asyncio, async SQLAlchemy
* **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: JSON logger (python-json-logger)

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

```bash
git clone https://github.com/EduardIbatullin/FastAPI_Project.git
cd FastAPI_Project
```

2. –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

```bash
python -m venv venv
source venv/bin/activate  # Windows: venv\\Scripts\\activate
```

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
pip install -r requirements.txt
```

4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `.env`:

–°–æ–∑–¥–∞–π `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`:

```env
DB_HOST=localhost
DB_PORT=5432
DB_NAME=hotel
DB_USER=postgres
DB_PASS=yourpassword
JWT_SECRET=supersecret
LOG_LEVEL=DEBUG
REDIS_HOST=localhost
REDIS_PORT=6379
```

5. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä:

```bash
uvicorn app.main:app --reload --log-level debug
```

---

## üóÑÔ∏è –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

### –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã

–°–æ–∑–¥–∞–π –±–∞–∑—É –≤—Ä—É—á–Ω—É—é –≤ PostgreSQL, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```sql
CREATE DATABASE hotel;
```

---

## üîÅ –ú–∏–≥—Ä–∞—Ü–∏–∏ Alembic

1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (–æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ):

```bash
alembic init migrations
```

2. –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏:

```bash
alembic revision --autogenerate -m "initial"
```

3. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏:

```bash
alembic upgrade head
```

---

## üîê –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

–î–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:

```
http://localhost:8000/api/admin
```

> –¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏ –ø–∞—Ä–æ–ª—å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ –∫–æ–¥–µ.

---

## ‚ö° –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Redis. –ó–∞–ø—É—Å—Ç–∏ Redis –ª–æ–∫–∞–ª—å–Ω–æ:

```bash
docker run -d -p 6379:6379 redis
```

> –ö—ç—à –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ.

---

## üìä –ü—Ä–æ–º–µ—Ç–µ–π –∏ –º–µ—Ç—Ä–∏–∫–∏

–ú–µ—Ç—Ä–∏–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ –∞–¥—Ä–µ—Å—É:

```
http://localhost:8000/metrics
```

–î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Prometheus –¥–æ–±–∞–≤—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π `job` –≤ –∫–æ–Ω—Ñ–∏–≥.

---

## üåê –ü—Ä–∏–º–µ—Ä—ã

### –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

```
http://localhost:8000/pages
```

### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—Ç–µ–ª–µ

```
http://localhost:8000/pages/hotels/{hotel_id}?date_from=2025-06-01&date_to=2025-06-10
```

### –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

```
http://localhost:8000/pages/booking?room_id=3&date_from=2025-06-01&date_to=2025-06-10
```

---

## üìé –ê–≤—Ç–æ—Ä

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ –æ–±—É—á–∞—é—â–∏—Ö —Ü–µ–ª—è—Ö.
–ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ª–∏—Ü–µ–Ω–∑–∏—è ‚Äî –ø–æ –∑–∞–ø—Ä–æ—Å—É.
